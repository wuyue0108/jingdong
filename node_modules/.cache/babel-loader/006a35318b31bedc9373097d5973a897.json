{"remainingRequest":"C:\\Users\\WY\\Desktop\\jingdong\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\WY\\Desktop\\jingdong\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\WY\\Desktop\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\WY\\Desktop\\jingdong\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\WY\\Desktop\\jingdong\\src\\views\\register\\Register.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\WY\\Desktop\\jingdong\\src\\views\\register\\Register.vue","mtime":1616563748511},{"path":"C:\\Users\\WY\\Desktop\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\WY\\Desktop\\jingdong\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\WY\\Desktop\\jingdong\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\WY\\Desktop\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\WY\\Desktop\\jingdong\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL1dZL0Rlc2t0b3AvamluZ2Rvbmcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IHJlYWN0aXZlLCB0b1JlZnMgfSBmcm9tICd2dWUnOwppbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IHsgcG9zdCB9IGZyb20gJy4uLy4uL3V0aWxzL3JlcXVlc3QuanMnOwppbXBvcnQgVG9hc3QsIHsgdXNlVG9hc3RFZmZlY3QgfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL1RvYXN0LnZ1ZSc7Cgp2YXIgdXNlUmVnaXN0ZXJFZmZlY3QgPSBmdW5jdGlvbiB1c2VSZWdpc3RlckVmZmVjdChjaGFuZ2VUb2FzdCkgewogIHZhciBkYXRhID0gcmVhY3RpdmUoewogICAgdXNlcm5hbWU6ICcnLAogICAgcGFzc3dvcmQ6ICcnLAogICAgZW5zdXJlbWVudDogJycKICB9KTsKICB2YXIgcm91dGVyID0gdXNlUm91dGVyKCk7CgogIHZhciBoYW5kbGVSZWdpc3RlckNsaWNrID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgdXNlcm5hbWUsIHBhc3N3b3JkLCBlbnN1cmVtZW50LCBmbGFnLCByZXN1bHQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICB1c2VybmFtZSA9IGRhdGEudXNlcm5hbWUsIHBhc3N3b3JkID0gZGF0YS5wYXNzd29yZCwgZW5zdXJlbWVudCA9IGRhdGEuZW5zdXJlbWVudDsKICAgICAgICAgICAgICBmbGFnID0gdXNlcm5hbWUgIT0gJycgJiYgcGFzc3dvcmQgIT0gJycgJiYgZW5zdXJlbWVudCAhPSAnJzsKCiAgICAgICAgICAgICAgaWYgKCFmbGFnKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAzOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgIHJldHVybiBwb3N0KCcvYXBpL3VzZXIvcmVnaXN0ZXInLCB7CiAgICAgICAgICAgICAgICB1c2VybmFtZTogZGF0YS51c2VybmFtZSwKICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBkYXRhLnBhc3N3b3JkCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzdWx0KQogICAgICAgICAgICAgIGlmIChyZXN1bHQuZXJybm8gPT09IDApIHsKICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgbmFtZTogJ0xvZ2luJwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNoYW5nZVRvYXN0KCfnmbvlvZXlpLHotKUnKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMzsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDEwOwogICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMyk7CiAgICAgICAgICAgICAgY2hhbmdlVG9hc3QoJ+ivt+axguWksei0pScpOwoKICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgIGNoYW5nZVRvYXN0KCfor7fovpPlhaXms6jlhozkv6Hmga8nKTsKCiAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMywgMTBdXSk7CiAgICB9KSk7CgogICAgcmV0dXJuIGZ1bmN0aW9uIGhhbmRsZVJlZ2lzdGVyQ2xpY2soKSB7CiAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9OwogIH0oKTsKCiAgdmFyIF90b1JlZnMgPSB0b1JlZnMoZGF0YSksCiAgICAgIHVzZXJuYW1lID0gX3RvUmVmcy51c2VybmFtZSwKICAgICAgcGFzc3dvcmQgPSBfdG9SZWZzLnBhc3N3b3JkLAogICAgICBlbnN1cmVtZW50ID0gX3RvUmVmcy5lbnN1cmVtZW50OwoKICByZXR1cm4gewogICAgdXNlcm5hbWU6IHVzZXJuYW1lLAogICAgcGFzc3dvcmQ6IHBhc3N3b3JkLAogICAgZW5zdXJlbWVudDogZW5zdXJlbWVudCwKICAgIGhhbmRsZVJlZ2lzdGVyQ2xpY2s6IGhhbmRsZVJlZ2lzdGVyQ2xpY2sKICB9Owp9OwoKdmFyIHVzZUxvZ2luRWZmZWN0ID0gZnVuY3Rpb24gdXNlTG9naW5FZmZlY3QoKSB7CiAgdmFyIHJvdXRlciA9IHVzZVJvdXRlcigpOwoKICB2YXIgaGFuZGxlTG9naW5DbGljayA9IGZ1bmN0aW9uIGhhbmRsZUxvZ2luQ2xpY2soKSB7CiAgICByb3V0ZXIucHVzaCh7CiAgICAgIG5hbWU6ICdMb2dpbicKICAgIH0pOwogIH07CgogIHJldHVybiB7CiAgICBoYW5kbGVMb2dpbkNsaWNrOiBoYW5kbGVMb2dpbkNsaWNrCiAgfTsKfTsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUmVnaXN0ZXInLAogIGNvbXBvbmVudHM6IHsKICAgIFRvYXN0OiBUb2FzdAogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIF91c2VUb2FzdEVmZmVjdCA9IHVzZVRvYXN0RWZmZWN0KCksCiAgICAgICAgdG9hc3RTaG93ID0gX3VzZVRvYXN0RWZmZWN0LnRvYXN0U2hvdywKICAgICAgICB0b2FzdFRleHQgPSBfdXNlVG9hc3RFZmZlY3QudG9hc3RUZXh0LAogICAgICAgIGNoYW5nZVRvYXN0ID0gX3VzZVRvYXN0RWZmZWN0LmNoYW5nZVRvYXN0OwoKICAgIHZhciBfdXNlUmVnaXN0ZXJFZmZlY3QgPSB1c2VSZWdpc3RlckVmZmVjdChjaGFuZ2VUb2FzdCksCiAgICAgICAgdXNlcm5hbWUgPSBfdXNlUmVnaXN0ZXJFZmZlY3QudXNlcm5hbWUsCiAgICAgICAgcGFzc3dvcmQgPSBfdXNlUmVnaXN0ZXJFZmZlY3QucGFzc3dvcmQsCiAgICAgICAgZW5zdXJlbWVudCA9IF91c2VSZWdpc3RlckVmZmVjdC5lbnN1cmVtZW50LAogICAgICAgIGhhbmRsZVJlZ2lzdGVyQ2xpY2sgPSBfdXNlUmVnaXN0ZXJFZmZlY3QuaGFuZGxlUmVnaXN0ZXJDbGljazsKCiAgICB2YXIgX3VzZUxvZ2luRWZmZWN0ID0gdXNlTG9naW5FZmZlY3QoKSwKICAgICAgICBoYW5kbGVMb2dpbkNsaWNrID0gX3VzZUxvZ2luRWZmZWN0LmhhbmRsZUxvZ2luQ2xpY2s7CgogICAgcmV0dXJuIHsKICAgICAgdG9hc3RTaG93OiB0b2FzdFNob3csCiAgICAgIHRvYXN0VGV4dDogdG9hc3RUZXh0LAogICAgICBjaGFuZ2VUb2FzdDogY2hhbmdlVG9hc3QsCiAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSwKICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkLAogICAgICBlbnN1cmVtZW50OiBlbnN1cmVtZW50LAogICAgICBoYW5kbGVSZWdpc3RlckNsaWNrOiBoYW5kbGVSZWdpc3RlckNsaWNrLAogICAgICBoYW5kbGVMb2dpbkNsaWNrOiBoYW5kbGVMb2dpbkNsaWNrCiAgICB9OwogIH0KfTs="},{"version":3,"sources":["C:\\Users\\WY\\Desktop\\jingdong\\src\\views\\register\\Register.vue"],"names":[],"mappings":";;AAsCA,SAAS,QAAT,EAAmB,MAAnB,QAAiC,KAAjC;AACA,SAAS,SAAT,QAA0B,YAA1B;AACA,SAAS,IAAT,QAAqB,wBAArB;AACA,OAAO,KAAP,IAAgB,cAAhB,QAAsC,4BAAtC;;AAEA,IAAM,iBAAgB,GAAI,SAApB,iBAAoB,CAAC,WAAD,EAAiB;AACzC,MAAM,IAAG,GAAI,QAAQ,CAAC;AACpB,IAAA,QAAQ,EAAE,EADU;AAEpB,IAAA,QAAQ,EAAE,EAFU;AAGpB,IAAA,UAAU,EAAE;AAHQ,GAAD,CAArB;AAKA,MAAM,MAAK,GAAI,SAAS,EAAxB;;AACA,MAAM,mBAAkB;AAAA,uEAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAClB,cAAA,QADkB,GACiB,IADjB,CAClB,QADkB,EACR,QADQ,GACiB,IADjB,CACR,QADQ,EACE,UADF,GACiB,IADjB,CACE,UADF;AAEpB,cAAA,IAFoB,GAEZ,QAAO,IAAK,EAAb,IAAqB,QAAO,IAAK,EAAjC,IAAyC,UAAS,IAAK,EAF1C;;AAAA,mBAGtB,IAHsB;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,qBAKD,IAAI,CAAC,oBAAD,EAAuB;AAC9C,gBAAA,QAAQ,EAAE,IAAI,CAAC,QAD+B;AAE9C,gBAAA,QAAQ,EAAE,IAAI,CAAC;AAF+B,eAAvB,CALH;;AAAA;AAKhB,cAAA,MALgB;;AAStB;AACA,kBAAI,MAAM,CAAC,KAAP,KAAiB,CAArB,EAAwB;AACtB,gBAAA,MAAM,CAAC,IAAP,CAAY;AAAE,kBAAA,IAAI,EAAE;AAAR,iBAAZ;AACF,eAFA,MAEO;AACL,gBAAA,WAAW,CAAC,MAAD,CAAX;AACF;;AAdsB;AAAA;;AAAA;AAAA;AAAA;AAiBtB,cAAA,WAAW,CAAC,MAAD,CAAX;;AAjBsB;AAAA;AAAA;;AAAA;AAoBxB,cAAA,WAAW,CAAC,SAAD,CAAX;;AApBwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAJ;;AAAA,oBAAlB,mBAAkB;AAAA;AAAA;AAAA,KAAxB;;AAPyC,gBA8BE,MAAM,CAAC,IAAD,CA9BR;AAAA,MA8BjC,QA9BiC,WA8BjC,QA9BiC;AAAA,MA8BvB,QA9BuB,WA8BvB,QA9BuB;AAAA,MA8Bb,UA9Ba,WA8Bb,UA9Ba;;AA+BzC,SAAO;AAAE,IAAA,QAAQ,EAAR,QAAF;AAAY,IAAA,QAAQ,EAAR,QAAZ;AAAsB,IAAA,UAAU,EAAV,UAAtB;AAAkC,IAAA,mBAAkB,EAAlB;AAAlC,GAAP;AACF,CAhCA;;AAkCA,IAAM,cAAa,GAAI,SAAjB,cAAiB,GAAM;AAC3B,MAAM,MAAK,GAAI,SAAS,EAAxB;;AACA,MAAM,gBAAe,GAAI,SAAnB,gBAAmB,GAAM;AAC7B,IAAA,MAAM,CAAC,IAAP,CAAY;AAAE,MAAA,IAAI,EAAE;AAAR,KAAZ;AACF,GAFA;;AAGA,SAAO;AAAE,IAAA,gBAAe,EAAf;AAAF,GAAP;AACF,CANA;;AAQA,eAAe;AACb,EAAA,IAAI,EAAE,UADO;AAEb,EAAA,UAAU,EAAE;AAAE,IAAA,KAAI,EAAJ;AAAF,GAFC;AAGb,EAAA,KAHa,mBAGJ;AAAA,0BACuC,cAAc,EADrD;AAAA,QACC,SADD,mBACC,SADD;AAAA,QACY,SADZ,mBACY,SADZ;AAAA,QACuB,WADvB,mBACuB,WADvB;;AAAA,6BAEyD,iBAAiB,CAAC,WAAD,CAF1E;AAAA,QAEC,QAFD,sBAEC,QAFD;AAAA,QAEW,QAFX,sBAEW,QAFX;AAAA,QAEqB,UAFrB,sBAEqB,UAFrB;AAAA,QAEiC,mBAFjC,sBAEiC,mBAFjC;;AAAA,0BAGsB,cAAc,EAHpC;AAAA,QAGC,gBAHD,mBAGC,gBAHD;;AAIP,WAAO;AACL,MAAA,SAAS,EAAT,SADK;AACM,MAAA,SAAS,EAAT,SADN;AACiB,MAAA,WAAW,EAAX,WADjB;AAEL,MAAA,QAAQ,EAAR,QAFK;AAEK,MAAA,QAAQ,EAAR,QAFL;AAEe,MAAA,UAAU,EAAV,UAFf;AAE2B,MAAA,mBAAmB,EAAnB,mBAF3B;AAGL,MAAA,gBAAe,EAAf;AAHK,KAAP;AAKF;AAZa,CAAf","sourcesContent":["<template>\r\n  <div class=\"wrapper\">\r\n    <img class=\"wrapper__img\"\r\n         src=\"http://www.dell-lee.com/imgs/vue3/user.png\">\r\n    <div class=\"wrapper__input\">\r\n      <input v-model=\"username\"\r\n             class=\"wrapper__input__content\"\r\n             type=\"text\"\r\n             placeholder=\"请输入用户名\"\r\n             name=\"\"\r\n             id=\"\">\r\n    </div>\r\n    <div class=\"wrapper__input\">\r\n      <input v-model=\"password\"\r\n             class=\"wrapper__input__content\"\r\n             type=\"password\"\r\n             placeholder=\"请输入密码\"\r\n             name=\"\"\r\n             id=\"\">\r\n    </div>\r\n    <div class=\"wrapper__input\">\r\n      <input v-model=\"ensurement\"\r\n             class=\"wrapper__input__content\"\r\n             type=\"password\"\r\n             placeholder=\"确认密码\"\r\n             name=\"\"\r\n             id=\"\">\r\n    </div>\r\n    <div @click=\"handleRegisterClick\"\r\n         class=\"wrapper__register-button\">注册</div>\r\n    <div @click=\"handleLoginClick\"\r\n         class=\"wrapper__register-link\">已有账号去登录</div>\r\n    <Toast v-if=\"toastShow\"\r\n           :message='toastText' />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive, toRefs } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { post } from '../../utils/request.js'\r\nimport Toast, { useToastEffect } from '../../components/Toast.vue'\r\n\r\nconst useRegisterEffect = (changeToast) => {\r\n  const data = reactive({\r\n    username: '',\r\n    password: '',\r\n    ensurement: ''\r\n  });\r\n  const router = useRouter();\r\n  const handleRegisterClick = async () => {\r\n    const { username, password, ensurement } = data;\r\n    const flag = (username != '') && (password != '') && (ensurement != '');\r\n    if (flag) {\r\n      try {\r\n        const result = await post('/api/user/register', {\r\n          username: data.username,\r\n          password: data.password\r\n        })\r\n        // console.log(result)\r\n        if (result.errno === 0) {\r\n          router.push({ name: 'Login' })\r\n        } else {\r\n          changeToast('登录失败')\r\n        }\r\n      }\r\n      catch (error) {\r\n        changeToast('请求失败')\r\n      }\r\n    } else {\r\n      changeToast('请输入注册信息')\r\n    }\r\n  };\r\n  const { username, password, ensurement } = toRefs(data);\r\n  return { username, password, ensurement, handleRegisterClick }\r\n}\r\n\r\nconst useLoginEffect = () => {\r\n  const router = useRouter();\r\n  const handleLoginClick = () => {\r\n    router.push({ name: 'Login' })\r\n  }\r\n  return { handleLoginClick }\r\n}\r\n\r\nexport default {\r\n  name: 'Register',\r\n  components: { Toast },\r\n  setup () {\r\n    const { toastShow, toastText, changeToast } = useToastEffect();\r\n    const { username, password, ensurement, handleRegisterClick } = useRegisterEffect(changeToast);\r\n    const { handleLoginClick } = useLoginEffect();\r\n    return {\r\n      toastShow, toastText, changeToast,\r\n      username, password, ensurement, handleRegisterClick,\r\n      handleLoginClick\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.wrapper {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 0;\r\n  right: 0;\r\n  transform: translateY(-50%);\r\n  &__img {\r\n    display: block;\r\n    width: 0.66rem;\r\n    height: 0.66rem;\r\n    margin: 0 auto 0.4rem auto;\r\n  }\r\n  &__input {\r\n    box-sizing: border-box;\r\n    width: 2.98rem;\r\n    height: 0.48rem;\r\n    background: #f9f9f9;\r\n    border: 0.01rem solid rgba(0, 0, 0, 0.1);\r\n    border-radius: 0.06rem;\r\n    border-radius: 0.06rem;\r\n    margin: 0 auto 0.16rem auto;\r\n    padding: 0 0 0 0.12rem;\r\n    &__content {\r\n      font-size: 0.16rem;\r\n      line-height: 0.43rem;\r\n      width: 100%;\r\n      border: none;\r\n      background: none;\r\n      outline: none;\r\n      ::placeholder {\r\n        font-size: 0.16rem;\r\n        color: rgba(0, 0, 0, 0.5);\r\n        line-height: 0.24rem;\r\n      }\r\n    }\r\n  }\r\n  &__register-button {\r\n    line-height: 0.48rem;\r\n    margin: 0.32rem 0.4rem 0.16rem 0.4rem;\r\n    background: #0091ff;\r\n    box-shadow: 0 0.04rem 0.08rem 0 rgba(0, 145, 255, 0.32);\r\n    border-radius: 0.04rem;\r\n    border-radius: 0.04rem;\r\n    font-size: 0.16rem;\r\n    color: #ffffff;\r\n    text-align: center;\r\n  }\r\n  &__register-link {\r\n    text-align: center;\r\n    font-size: 0.14rem;\r\n    color: rgba(0, 0, 0, 0.5);\r\n  }\r\n}\r\n</style>"],"sourceRoot":""}]}