{"remainingRequest":"C:\\Users\\WY\\Desktop\\jingdong\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\WY\\Desktop\\jingdong\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\WY\\Desktop\\jingdong\\src\\store\\index.js","dependencies":[{"path":"C:\\Users\\WY\\Desktop\\jingdong\\src\\store\\index.js","mtime":1616470369024},{"path":"C:\\Users\\WY\\Desktop\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\WY\\Desktop\\jingdong\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\WY\\Desktop\\jingdong\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJDOi9Vc2Vycy9XWS9EZXNrdG9wL2ppbmdkb25nL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBWdWV4IGZyb20gInZ1ZXgiOyAvLyBsb2NhbFN0b3JhZ2UKCnZhciBzZXRMb2NhbENhcnRMaXN0ID0gZnVuY3Rpb24gc2V0TG9jYWxDYXJ0TGlzdChzdGF0ZSkgewogIHZhciBjYXJ0TGlzdCA9IHN0YXRlLmNhcnRMaXN0OwogIHZhciBjYXJ0TGlzdFN0cmluZyA9IEpTT04uc3RyaW5naWZ5KGNhcnRMaXN0KTsKICBsb2NhbFN0b3JhZ2UuY2FydExpc3QgPSBjYXJ0TGlzdFN0cmluZzsKfTsKCnZhciBnZXRMb2NhbENhcnRMaXN0ID0gZnVuY3Rpb24gZ2V0TG9jYWxDYXJ0TGlzdCgpIHsKICB0cnkgewogICAgcmV0dXJuIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmNhcnRMaXN0KTsKICB9IGNhdGNoIChlcnJvcikgewogICAgcmV0dXJuIHt9OwogIH0gLy8gcmV0dXJuIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmNhcnRMaXN0KSB8fCB7fQoKfTsKCmV4cG9ydCBkZWZhdWx0IFZ1ZXguY3JlYXRlU3RvcmUoewogIHN0YXRlOiB7CiAgICAvLyBjYXJ0TGlzdDoge30KICAgIGNhcnRMaXN0OiBnZXRMb2NhbENhcnRMaXN0KCkgLy8gY2FydExpc3Q6IHsKICAgIC8vICAgICAvL+abtOaUueaVsOaNrue7k+aehAogICAgLy8gICAgIC8vIHNob3BJZDogewogICAgLy8gICAgIC8vICAgICBzaG9wTmFtZTogIiIsCiAgICAvLyAgICAgLy8gICAgIFByb2R1Y3RMaXN0OiB7CiAgICAvLyAgICAgLy8gICAgICAgICBwcm9kdWN0SWQ6IHsKICAgIC8vICAgICAvLyAgICAgICAgICAgICBfaWQ6ICcxJywKICAgIC8vICAgICAvLyAgICAgICAgICAgICBuYW1lOiAn55Wq6IyEMjUwZy/ku70nLAogICAgLy8gICAgIC8vICAgICAgICAgICAgIGltZ1VybDogJ2h0dHA6Ly93d3cuZGVsbC1sZWUuY29tL2ltZ3MvdnVlMy90b21hdG8ucG5nJywKICAgIC8vICAgICAvLyAgICAgICAgICAgICBzYWxlczogMTAsCiAgICAvLyAgICAgLy8gICAgICAgICAgICAgcHJpY2U6IDMzLjYsCiAgICAvLyAgICAgLy8gICAgICAgICAgICAgb2xkUHJpY2U6IDM5LjYsCiAgICAvLyAgICAgLy8gICAgICAgICAgICAgY291bnQ6IDIKICAgIC8vICAgICAvLyAgICAgICAgIH0KICAgIC8vICAgICAvLyAgICAgfQogICAgLy8gICAgIC8vIH0KCiAgfSwKICBtdXRhdGlvbnM6IF9kZWZpbmVQcm9wZXJ0eSh7CiAgICAvLyBjaGFuZ2VDYXJ0Q291bnRJbmZvCiAgICBjaGFuZ2VDYXJ0Q291bnRJbmZvOiBmdW5jdGlvbiBjaGFuZ2VDYXJ0Q291bnRJbmZvKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHZhciBfc2hvcEluZm87CgogICAgICB2YXIgc2hvcElkID0gcGF5bG9hZC5zaG9wSWQsCiAgICAgICAgICBwcm9kdWN0SWQgPSBwYXlsb2FkLnByb2R1Y3RJZCwKICAgICAgICAgIHByb2R1Y3RJbmZvID0gcGF5bG9hZC5wcm9kdWN0SW5mbywKICAgICAgICAgIG51bSA9IHBheWxvYWQubnVtOyAvLyBjb25zb2xlLmxvZyhzaG9wSWQsIHByb2R1Y3RJZCwgcHJvZHVjdEluZm8pOwoKICAgICAgdmFyIHNob3BJbmZvID0gc3RhdGUuY2FydExpc3Rbc2hvcElkXTsKCiAgICAgIGlmICghc2hvcEluZm8pIHsKICAgICAgICBzaG9wSW5mbyA9IHsKICAgICAgICAgIHNob3BOYW1lOiAiIiwKICAgICAgICAgIFByb2R1Y3RMaXN0OiB7fQogICAgICAgIH07CiAgICAgIH0KCiAgICAgIHZhciBwcm9kdWN0ID0gKF9zaG9wSW5mbyA9IHNob3BJbmZvKSA9PT0gbnVsbCB8fCBfc2hvcEluZm8gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zaG9wSW5mby5Qcm9kdWN0TGlzdFtwcm9kdWN0SWRdOwoKICAgICAgaWYgKCFwcm9kdWN0KSB7CiAgICAgICAgcHJvZHVjdEluZm8uY291bnQgPSAwOwogICAgICAgIHByb2R1Y3QgPSBwcm9kdWN0SW5mbzsKICAgICAgfQoKICAgICAgcHJvZHVjdC5jb3VudCA9IHByb2R1Y3QuY291bnQgKyBudW07CgogICAgICBpZiAocHJvZHVjdC5jb3VudCA8IDApIHsKICAgICAgICBwcm9kdWN0LmNvdW50ID0gMDsKICAgICAgICBwcm9kdWN0LmNoZWNrZWQgPSBmYWxzZTsKICAgICAgfQoKICAgICAgaWYgKHByb2R1Y3QuY291bnQgPiAwKSB7CiAgICAgICAgcHJvZHVjdC5jaGVja2VkID0gdHJ1ZTsKICAgICAgfQoKICAgICAgc2hvcEluZm8uUHJvZHVjdExpc3RbcHJvZHVjdElkXSA9IHByb2R1Y3Q7CiAgICAgIHN0YXRlLmNhcnRMaXN0W3Nob3BJZF0gPSBzaG9wSW5mbzsKICAgICAgc2V0TG9jYWxDYXJ0TGlzdChzdGF0ZSk7CiAgICB9LAogICAgY2hhbmdlQ2FydE5hbWVJbmZvOiBmdW5jdGlvbiBjaGFuZ2VDYXJ0TmFtZUluZm8oc3RhdGUsIHBheWxvYWQpIHsKICAgICAgdmFyIHNob3BJZCA9IHBheWxvYWQuc2hvcElkLAogICAgICAgICAgc2hvcE5hbWUgPSBwYXlsb2FkLnNob3BOYW1lOwogICAgICB2YXIgc2hvcEluZm8gPSBzdGF0ZS5jYXJ0TGlzdFtzaG9wSWRdIHx8IHsKICAgICAgICBzaG9wTmFtZTogIiIsCiAgICAgICAgUHJvZHVjdExpc3Q6IHt9CiAgICAgIH07CiAgICAgIHNob3BJbmZvLnNob3BOYW1lID0gc2hvcE5hbWU7CiAgICAgIHN0YXRlLmNhcnRMaXN0W3Nob3BJZF0gPSBzaG9wSW5mbzsKICAgICAgc2V0TG9jYWxDYXJ0TGlzdChzdGF0ZSk7CiAgICB9LAogICAgY2hhbmdlQ2FydEl0ZW1DaGVja2VkOiBmdW5jdGlvbiBjaGFuZ2VDYXJ0SXRlbUNoZWNrZWQoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgdmFyIHNob3BJZCA9IHBheWxvYWQuc2hvcElkLAogICAgICAgICAgcHJvZHVjdElkID0gcGF5bG9hZC5wcm9kdWN0SWQ7IC8vIGNvbnNvbGUubG9nKHN0YXRlLmNhcnRMaXN0W3Nob3BJZF1bcHJvZHVjdElkXS5jaGVja2VkKQoKICAgICAgc3RhdGUuY2FydExpc3Rbc2hvcElkXS5Qcm9kdWN0TGlzdFtwcm9kdWN0SWRdLmNoZWNrZWQgPSAhc3RhdGUuY2FydExpc3Rbc2hvcElkXS5Qcm9kdWN0TGlzdFtwcm9kdWN0SWRdLmNoZWNrZWQ7CiAgICAgIHNldExvY2FsQ2FydExpc3Qoc3RhdGUpOwogICAgfSwKICAgIGNsZWFyUHJvZHVjdExpc3Q6IGZ1bmN0aW9uIGNsZWFyUHJvZHVjdExpc3Qoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgdmFyIHNob3BJZCA9IHBheWxvYWQuc2hvcElkOwogICAgICBzdGF0ZS5jYXJ0TGlzdFtzaG9wSWRdLlByb2R1Y3RMaXN0ID0ge307CiAgICAgIHNldExvY2FsQ2FydExpc3Qoc3RhdGUpOwogICAgfSwKICAgIGNoYW5nQWxsQ2hlY2tlZDogZnVuY3Rpb24gY2hhbmdBbGxDaGVja2VkKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHZhciBzaG9wSWQgPSBwYXlsb2FkLnNob3BJZDsKCiAgICAgIGZvciAodmFyIGkgaW4gKF9zdGF0ZSRjYXJ0TGlzdCRzaG9wSSA9IHN0YXRlLmNhcnRMaXN0W3Nob3BJZF0pID09PSBudWxsIHx8IF9zdGF0ZSRjYXJ0TGlzdCRzaG9wSSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3N0YXRlJGNhcnRMaXN0JHNob3BJLlByb2R1Y3RMaXN0KSB7CiAgICAgICAgdmFyIF9zdGF0ZSRjYXJ0TGlzdCRzaG9wSTsKCiAgICAgICAgc3RhdGUuY2FydExpc3Rbc2hvcElkXS5Qcm9kdWN0TGlzdFtpXS5jaGVja2VkID0gdHJ1ZTsKICAgICAgfQoKICAgICAgc2V0TG9jYWxDYXJ0TGlzdChzdGF0ZSk7CiAgICB9CiAgfSwgImNsZWFyUHJvZHVjdExpc3QiLCBmdW5jdGlvbiBjbGVhclByb2R1Y3RMaXN0KHN0YXRlLCBzaG9wSWQpIHsKICAgIHN0YXRlLmNhcnRMaXN0W3Nob3BJZF0uUHJvZHVjdExpc3QgPSB7fTsKICB9KSwKICBhY3Rpb25zOiB7fSwKICBtb2R1bGVzOiB7fQp9KTs="},{"version":3,"sources":["C:/Users/WY/Desktop/jingdong/src/store/index.js"],"names":["Vuex","setLocalCartList","state","cartList","cartListString","JSON","stringify","localStorage","getLocalCartList","parse","error","createStore","mutations","changeCartCountInfo","payload","shopId","productId","productInfo","num","shopInfo","shopName","ProductList","product","count","checked","changeCartNameInfo","changeCartItemChecked","clearProductList","changAllChecked","i","actions","modules"],"mappings":"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","sourcesContent":["import Vuex from \"vuex\";\n// localStorage\nconst setLocalCartList = state => {\n  const { cartList } = state;\n  const cartListString = JSON.stringify(cartList);\n  localStorage.cartList = cartListString;\n};\nconst getLocalCartList = () => {\n  try {\n    return JSON.parse(localStorage.cartList);\n  } catch (error) {\n    return {};\n  }\n  // return JSON.parse(localStorage.cartList) || {}\n};\n\nexport default Vuex.createStore({\n  state: {\n    // cartList: {}\n    cartList: getLocalCartList()\n    // cartList: {\n    //     //更改数据结构\n    //     // shopId: {\n    //     //     shopName: \"\",\n    //     //     ProductList: {\n    //     //         productId: {\n    //     //             _id: '1',\n    //     //             name: '番茄250g/份',\n    //     //             imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n    //     //             sales: 10,\n    //     //             price: 33.6,\n    //     //             oldPrice: 39.6,\n    //     //             count: 2\n    //     //         }\n    //     //     }\n    //     // }\n  },\n  mutations: {\n    // changeCartCountInfo\n    changeCartCountInfo(state, payload) {\n      const { shopId, productId, productInfo, num } = payload;\n      // console.log(shopId, productId, productInfo);\n      let shopInfo = state.cartList[shopId];\n      if (!shopInfo) {\n        shopInfo = { shopName: \"\", ProductList: {} };\n      }\n      let product = shopInfo?.ProductList[productId];\n      if (!product) {\n        productInfo.count = 0;\n        product = productInfo;\n      }\n      product.count = product.count + num;\n      if (product.count < 0) {\n        product.count = 0;\n        product.checked = false;\n      }\n      if (product.count > 0) {\n        product.checked = true;\n      }\n      shopInfo.ProductList[productId] = product;\n      state.cartList[shopId] = shopInfo;\n      setLocalCartList(state);\n    },\n    changeCartNameInfo(state, payload) {\n      const { shopId, shopName } = payload;\n      const shopInfo = state.cartList[shopId] || {\n        shopName: \"\",\n        ProductList: {}\n      };\n      shopInfo.shopName = shopName;\n      state.cartList[shopId] = shopInfo;\n      setLocalCartList(state);\n    },\n    changeCartItemChecked(state, payload) {\n      const { shopId, productId } = payload;\n      // console.log(state.cartList[shopId][productId].checked)\n      state.cartList[shopId].ProductList[productId].checked = !state.cartList[\n        shopId\n      ].ProductList[productId].checked;\n      setLocalCartList(state);\n    },\n    clearProductList(state, payload) {\n      const { shopId } = payload;\n      state.cartList[shopId].ProductList = {};\n      setLocalCartList(state);\n    },\n    changAllChecked(state, payload) {\n      const { shopId } = payload;\n      for (let i in state.cartList[shopId]?.ProductList) {\n        state.cartList[shopId].ProductList[i].checked = true;\n      }\n      setLocalCartList(state);\n    },\n    clearProductList(state, shopId) {\n      state.cartList[shopId].ProductList = {};\n    }\n  },\n  actions: {},\n  modules: {}\n});\n"]}]}